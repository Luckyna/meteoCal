<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:composition template="/template.xhtml">

        <f:metadata>
            <f:viewParam name="id" value="#{viewEvent.eventId}"/>
            <f:viewAction action="#{viewEvent.findEventById}"/>
        </f:metadata>

        <ui:define name="title">event</ui:define>

        <ui:define name="content">
            <h1><h:outputText value="#{viewEvent.eventToShow.title}" /></h1>

            <h:outputLabel value="Title:" /><h:outputText value="#{viewEvent.eventToShow.title}"/><br/>
            <h:outputLabel value="Starts at:" /><h:outputText value="#{viewEvent.eventToShow.formattedStartDate}"/><br/>
            <h:outputLabel value="Ends at:" /><h:outputText value="#{viewEvent.eventToShow.formattedEndDate}"/><br/>
            <h:outputLabel value="Location:" /><h:outputText value="#{viewEvent.eventToShow.location}"/><br/>
            <h:outputLabel value="Description:" /><h:outputText value="#{viewEvent.eventToShow.description}"/><br/>
            <h:outputLabel value="isOutdoor:" /><h:outputText value="#{viewEvent.eventToShow.isOutdoor}"/><br/>
            <h:outputLabel value="Owner:" /><h:outputText value="#{viewEvent.eventToShow.owner.name}"/><br/> <!-- owner -->
            <!--        <h:outputText value=""/>  invitati 
                        <h:outputText value=""/>  è o meno nel tuo calendario 
                        <h:outputText value=""/>  se sei invitato se ci partecipi o no -->

            <h:outputText rendered="#{!viewEvent.hasAnswered}">
                <h:commandButton value="partecipa" rendered="#{viewEvent.allowedToPartecipate}" 
                                 action="#{viewEvent.partecipate()}"/><br/>
            </h:outputText>
            <h:outputText rendered="#{viewEvent.hasAnswered}">
                <!-- TODO pulsanti non partecipo più ecc..-->
            </h:outputText>
            <h:button value="modifica" rendered="#{viewEvent.allowedToModify}" 
                      outcome="/s/manageEvent.xhtml?idEvent=#{viewEvent.eventId}" /><br/> <!--passare in post id evento -->
        </ui:define>

    </ui:composition>
</html>
