<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://java.sun.com/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">


    <ui:composition template="/template.xhtml">

        <ui:define name="title">
            search
        </ui:define>
        <ui:define name="content">
            <h1>Search</h1>
            <h:form>

                <p:inputText id="searchKey" value="#{search.searchKey}" pt:required="" />
                
                <p:commandButton id="search" value="Search" action="#{search.doSearch}" oncomplete="@(form)"/><br/>

                
                <h:outputLabel>users:</h:outputLabel> 
                <input type="radio" value="#{search.searchForEvents}"/>

                <h:outputLabel>events:</h:outputLabel> 
                <input type="radio" value="#{search.searchForUsers}"/><br />

                
                <p:panel rendered="#{not empty search.results}">
                    <h1>Results:</h1>
                    <p:dataScroller value="#{search.results}" var="r" chunkSize="10">
                        <p:fieldset legend="#{r.title}" style="margin-bottom:20px">
                            <p:outputLabel value="#{r.description}"/>
                        </p:fieldset>
                    </p:dataScroller>
                </p:panel>

            </h:form>
        </ui:define>
    </ui:composition>
</html>
