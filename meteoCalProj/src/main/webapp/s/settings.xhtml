<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://java.sun.com/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <ui:composition template="/template.xhtml">

        <ui:define name="title">
            settings
        </ui:define>
        <ui:define name="content">
            <h1>Settings</h1>
            <h:form>

                <h2> Change Personal Info: </h2>

                <h:outputLabel>Name, Surname:</h:outputLabel> 

                <h:inputText id="name" value="#{settings.name}" p:required="" />

                <h:inputText id="surname" value="#{settings.surname}" p:required=""/>

                <h:outputLabel for="email">Email:</h:outputLabel> 

                <h:inputText id="email" value="#{settings.email}" p:required="">
                    <f:passThroughAttribute name="type" value="email" />
                </h:inputText>

                <h2> Change Password: </h2>

                <h:outputLabel>Old Password:</h:outputLabel> 
                <h:inputSecret id="oldPassword" />

                <h:outputLabel>New Password:</h:outputLabel> 
                <h:inputSecret id="newPassword1" />

                <h:outputLabel>Repeat Password:</h:outputLabel> 
                <h:inputSecret id="newPassword2" />
              
                <br/>
                <h:commandButton id="save" value="Save" action="#{settings.save}"/>

                <h:commandButton id="cancel" value="Cancel" action="#{settings.clear}"/>
            </h:form>
            <hr/>
            <h2> Export Calendar: </h2>
            <h:form>
                <h:selectOneMenu value="#{settings.calendarToExport}">
                    <c:forEach items="#{calendar.calendarNames}" var="cal">
                        <f:selectItem itemValue="#{cal}" itemLabel="#{cal}" />
                    </c:forEach>
                </h:selectOneMenu><br/>
                <h:commandButton id="export" value="Export" action="#{settings.exportCalendar}"/>
            </h:form>
            <h2> Import Calendar: </h2>
            <h:form>
                <input type="file" name=".csv" accept="image/*" />
                <h:commandButton id="import" value="Import" action="#{settings.importCalendar}"/>
            </h:form>
            <hr/>
            <h2> Delete Account</h2>

            <h:commandButton id="delete" value="Delete my Account" action="#{settings.deleteAccount}"/>
        </ui:define>
    </ui:composition>
</html>
